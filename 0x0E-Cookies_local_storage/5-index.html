<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>Document</title>
</head>

<body>

</body>
<script>
	let availableItems = ["shampoo", "Soap", "Sponge", "water"]

	function lsTest() {
		var test = 'test';
		try {
			localStorage.setItem(test, test);
			localStorage.removeItem(test);
			return true;
		} catch (e) {
			return false;
		}
	}

	function displayCart() {
		let counter = 0;
		availableItems.forEach(element => {
			if (localStorage.getItem(element)) {
				counter += 1
			}
		})
		if (counter) {
			p = document.createElement("p")
			p.textContent = `You previously had ${counter} items in your cart`
			console.log(`You previously had ${counter} items in your cart`)
			document.body.append(p)
		}

	}
	function loadStore() {
		if (lsTest() === true) {
			createStore()
			displayCart()
		} else {
			alert("Sorry, your browser does not support Web storage. Try again with a better one")
		}
	}


	function addItemToCart(item) {
		localStorage.setItem(item, "true");
		location.reload()
	}

	function createStore() {
		let ul = document.createElement("ul")
		document.body.append(ul)
		availableItems.forEach(element => {
			console.log(element)
			ol = document.createElement("li")
			ol.textContent = element
			ol.onclick = () => {
				addItemToCart(element)
			}
			ul.append(ol)
		})



	}

	window.onload = loadStore()
</script>

</html>